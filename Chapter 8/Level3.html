<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Chapter 8 â€“ Level 3: Solve Data Problems</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600;700;800;900&display=swap" rel="stylesheet">
<style>
body {
    font-family: 'Poppins', sans-serif;
    /* Clean, bright green theme */
    background: linear-gradient(135deg, #E8F5E9 0%, #C8E6C9 100%);
    margin: 0;
    padding: 30px 20px;
    text-align: center;
    min-height: 100vh;
}

h1 { 
    font-size: 44px; 
    color: #1B5E20; /* Dark Green Title */
    font-weight: 900; 
    margin-bottom: 5px; 
    text-shadow: 2px 2px 0 #A5D6A7;
}
p#instruction { 
    font-size: 20px; 
    margin-bottom: 30px; 
    color: #388E3C; 
    font-weight: 600;
}

/* --- PICTOGRAPH AREA --- */
#chartContainer {
    max-width: 800px;
    margin: 0 auto 30px;
    padding: 25px 20px;
    background: white;
    border: 4px solid #81C784;
    border-radius: 15px;
    box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
}

#pictograph {
    display: flex;
    justify-content: space-around; /* Distribute items evenly */
    flex-wrap: wrap;
    gap: 20px;
}

.symbol {
    width: 150px; /* Wider area for the text/icons */
    padding: 10px;
    background: #E8F5E9; /* Light green background */
    border: 2px solid #388E3C;
    border-radius: 10px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    font-size: 35px; /* Icon size */
    font-weight: 700;
    color: #1B5E20;
    cursor: grab;
    transition: transform 0.1s, box-shadow 0.1s;
    box-shadow: 0 4px 0 #388E3C; /* 3D effect */
    user-select: none;
}
.symbol:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 0 #388E3C;
}

/* --- DROP ZONE PANEL --- */
#questions {
    background: #A5D6A7; /* Distinct panel background */
    padding: 20px;
    border-radius: 15px;
    box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 50px;
    margin-bottom: 25px;
}

.dropZone {
    width: 150px; /* Wider drop zone */
    height: 70px;
    line-height: 70px;
    border: 4px dashed #1B5E20;
    border-radius: 15px;
    font-weight: 900;
    color: #1B5E20;
    font-size: 28px;
    vertical-align: middle;
    background: #F1F8E9; /* Very light zone background */
    transition: background-color 0.3s;
}

.correct { 
    background: #4CAF50; /* Solid green when correct */
    color: white; 
    border-color: #2E7D32; 
    box-shadow: 0 3px 0 #2E7D32;
}

#resultMessage {
    font-size: 30px;
    font-weight: 900;
    margin-top: 15px;
}

#nextBtn {
    padding: 15px 30px;
    font-size: 24px;
    font-weight: 900;
    border: none;
    border-radius: 12px;
    background: #FF9800; /* Orange for 'Next' button */
    color: white;
    cursor: pointer;
    transition: transform 0.1s, box-shadow 0.1s;
    box-shadow: 0 5px 0 #F57C00;
}
#nextBtn:active { 
    transform: translateY(5px);
    box-shadow: none;
}
#nextBtn:disabled { 
    background: #FFCC80; 
    cursor: not-allowed; 
    box-shadow: 0 5px 0 #FFB74D;
}
</style>
</head>
<body>

<h1>ðŸ“Š Level 3 â€“ Solve Data Problems</h1>
<p id="instruction">Drag the item with the most count to "Most" and the least count to "Least" for this question!</p>

<div id="chartContainer">
    <div id="pictograph"></div>
</div>

<div id="questions">
Â  Â  <span class="dropZone" id="most">Most</span>
Â  Â  <span class="dropZone" id="least">Least</span>
</div>

<p id="resultMessage"></p>
<button id="nextBtn" disabled>Next Question</button>

<script>
const questions = [
Â  Â  { 
Â  Â  Â  Â  items: [
Â  Â  Â  Â  Â  Â  {name:"Apple", icon:"ðŸŽ", count:3}, 
Â  Â  Â  Â  Â  Â  {name:"Banana", icon:"ðŸŒ", count:5}, 
Â  Â  Â  Â  Â  Â  {name:"Grapes", icon:"ðŸ‡", count:2},
Â  Â  Â  Â  Â  Â  {name:"Orange", icon:"ðŸŠ", count:4}
Â  Â  Â  Â  ], 
Â  Â  Â  Â  most:"Banana", least:"Grapes" 
Â  Â  },
Â  Â  { 
Â  Â  Â  Â  items: [
Â  Â  Â  Â  Â  Â  {name:"Apple", icon:"ðŸŽ", count:4}, 
Â  Â  Â  Â  Â  Â  {name:"Banana", icon:"ðŸŒ", count:3}, 
Â  Â  Â  Â  Â  Â  {name:"Grapes", icon:"ðŸ‡", count:6},
Â  Â  Â  Â  Â  Â  {name:"Cherry", icon:"ðŸ’", count:2}
Â  Â  Â  Â  ], 
Â  Â  Â  Â  most:"Grapes", least:"Cherry" 
Â  Â  },
Â  Â  { 
Â  Â  Â  Â  items: [
Â  Â  Â  Â  Â  Â  {name:"Apple", icon:"ðŸŽ", count:2}, 
Â  Â  Â  Â  Â  Â  {name:"Banana", icon:"ðŸŒ", count:5}, 
Â  Â  Â  Â  Â  Â  {name:"Grapes", icon:"ðŸ‡", count:4},
Â  Â  Â  Â  Â  Â  {name:"Peach", icon:"ðŸ‘", count:3}
Â  Â  Â  Â  ], 
Â  Â  Â  Â  most:"Banana", least:"Apple" 
Â  Â  },
Â  Â  { 
Â  Â  Â  Â  items: [
Â  Â  Â  Â  Â  Â  {name:"Apple", icon:"ðŸŽ", count:6}, 
Â  Â  Â  Â  Â  Â  {name:"Banana", icon:"ðŸŒ", count:1}, 
Â  Â  Â  Â  Â  Â  {name:"Grapes", icon:"ðŸ‡", count:3},
Â  Â  Â  Â  Â  Â  {name:"Mango", icon:"ðŸ¥­", count:2}
Â  Â  Â  Â  ], 
Â  Â  Â  Â  most:"Apple", least:"Banana" 
Â  Â  },
Â  Â  { 
Â  Â  Â  Â  items: [
Â  Â  Â  Â  Â  Â  {name:"Apple", icon:"ðŸŽ", count:3}, 
Â  Â  Â  Â  Â  Â  {name:"Banana", icon:"ðŸŒ", count:2}, 
Â  Â  Â  Â  Â  Â  {name:"Grapes", icon:"ðŸ‡", count:5},
Â  Â  Â  Â  Â  Â  {name:"Strawberry", icon:"ðŸ“", count:4}
Â  Â  Â  Â  ], 
Â  Â  Â  Â  most:"Grapes", least:"Banana" 
Â  Â  }
];

let current = 0;
let draggedItem = null;

const pictographDiv = document.getElementById('pictograph');
const dropZones = [ document.getElementById('most'), document.getElementById('least') ];
const resultMessage = document.getElementById('resultMessage');
const nextBtn = document.getElementById('nextBtn');

function loadQuestion(q){
Â  Â  pictographDiv.innerHTML = "";
Â  Â  resultMessage.innerText = "";
Â  Â  nextBtn.disabled = true;

Â  Â  // Reset drop zones
Â  Â  dropZones.forEach(zone=>{
Â  Â  Â  Â  zone.innerText = zone.id === "most" ? "Most" : "Least";
Â  Â  Â  Â  zone.dataset.accept = zone.id === "most" ? q.most : q.least;
Â  Â  Â  Â  zone.classList.remove('correct');
Â  Â  });

    // Generate items to drag
Â  Â  q.items.forEach(item=>{
Â  Â  Â  Â  const div = document.createElement('div');
Â  Â  Â  Â  div.className = 'symbol';
Â  Â  Â  Â  div.draggable = true;
Â  Â  Â  Â  div.dataset.name = item.name;
Â  Â  Â  Â  div.dataset.icon = item.icon;
        // Display the name of the item above the count for clarity
        const nameSpan = document.createElement('span');
        nameSpan.style.fontSize = '14px';
        nameSpan.style.fontWeight = '800';
        nameSpan.innerText = item.name;
        
        const countSpan = document.createElement('span');
        countSpan.innerText = item.icon.repeat(item.count);

        div.appendChild(nameSpan);
        div.appendChild(countSpan);

Â  Â  Â  Â  div.addEventListener('dragstart', e=>{ 
            draggedItem = div; 
            setTimeout(() => div.style.opacity = '0.5', 0); // Hide dragged item slightly
        });
        div.addEventListener('dragend', e=>{
            if (draggedItem) { // Only reset opacity if it wasn't dropped correctly (and thus removed)
                div.style.opacity = '1';
            }
        });
Â  Â  Â  Â  pictographDiv.appendChild(div);
Â  Â  });
}

// Drag & Drop logic
dropZones.forEach(zone=>{
Â  Â  zone.addEventListener('dragover', e=>e.preventDefault());
    zone.addEventListener('dragenter', e => { 
        e.preventDefault(); 
        zone.style.borderStyle = 'solid';
        zone.style.borderColor = '#FF9800';
    });
    zone.addEventListener('dragleave', e => {
        zone.style.borderStyle = 'dashed';
        zone.style.borderColor = '#1B5E20';
    });

Â  Â  zone.addEventListener('drop', ()=>{
        zone.style.borderStyle = 'dashed';
        zone.style.borderColor = '#1B5E20';
        
Â  Â  Â  Â  if(draggedItem){
Â  Â  Â  Â  Â  Â  if(draggedItem.dataset.name === zone.dataset.accept){
Â  Â  Â  Â  Â  Â  Â  Â  zone.classList.add('correct');
Â  Â  Â  Â  Â  Â  Â  Â  zone.innerText = draggedItem.dataset.icon; // show icon instead of name
                // Add the dropped item's name back to the drop zone for visual reference
                zone.title = draggedItem.dataset.name; 
Â  Â  Â  Â  Â  Â  Â  Â  draggedItem.remove();
Â  Â  Â  Â  Â  Â  Â  Â  checkAnswer();
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  resultMessage.style.color = "#D84315";
Â  Â  Â  Â  Â  Â  Â  Â  resultMessage.innerText = "âŒ Wrong item. Try again!";
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  draggedItem = null;
Â  Â  Â  Â  }
Â  Â  });
});

function checkAnswer(){
Â  Â  if(dropZones.every(zone=>zone.classList.contains('correct'))){
Â  Â  Â  Â  resultMessage.style.color = "#2E7D32";
Â  Â  Â  Â  resultMessage.innerText = "ðŸŽ‰ Correct! Well done!";
Â  Â  Â  Â  nextBtn.disabled = false;
Â  Â  Â  Â  localStorage.setItem('C8_Level3_Question'+current, 'completed');
Â  Â  }
}

nextBtn.addEventListener('click', ()=>{
    // Clear result message and reset button state
    resultMessage.innerText = '';
    nextBtn.disabled = true;

Â  Â  current++;
Â  Â  if(current < questions.length){
Â  Â  Â  Â  loadQuestion(questions[current]);
Â  Â  } else {
Â  Â  Â  Â  resultMessage.style.color = "#2E7D32";
Â  Â  Â  Â  resultMessage.innerText = "ðŸ† All questions completed! Level 3 Finished!";
Â  Â  Â  Â  localStorage.setItem('C8_Level3', 'completed');
Â  Â  Â  Â  setTimeout(()=>{ window.location.href = "C8.html"; }, 2500); // Adjusted path
Â  Â  Â  Â  nextBtn.disabled = true;
Â  Â  }
});

// Load first question
window.onload = () => loadQuestion(questions[current]);
</script>

</body>
</html>